import{j as s,t as r,s as y,P as m}from"./index-h8DU3qUf.js";import{u as M,i as p,M as u,C}from"./@react-three/fiber-EuvSAQ9I.js";import{r as P}from"./react-PzSkSLoa.js";import{a as R,u as b}from"./react-redux-sD4wxRcV.js";import"./react-router-dom-Dazc1-x_.js";import"./styled-components-Uwec11nI.js";var f,c,d,h,_,v,x,j,g;const B={u_scale:{value:(f=r.uniforms)==null?void 0:f.u_scale},u_layers:{value:(c=r.uniforms)==null?void 0:c.u_layers},u_distortion:{value:(d=r.uniforms)==null?void 0:d.u_distortion},u_thickness:{value:(h=r.uniforms)==null?void 0:h.u_thickness},u_slope:{value:(_=r.uniforms)==null?void 0:_.u_slope},u_jitter:{value:(v=r.uniforms)==null?void 0:v.u_jitter},u_sharpness:{value:(x=r.uniforms)==null?void 0:x.u_sharpness},u_color:{value:(j=r.uniforms)==null?void 0:j.u_color},u_resolution:{value:(g=r.uniforms)==null?void 0:g.u_resolution}},F=r.fragmentShader,q=r.vertexShader,D=()=>{const e=P.useRef(),t=R(),{animate:o,distortion:i,slope:S,jitter:w}=b(n=>n.background),k=o?1:100;return M((n,l)=>{const a=1-Math.exp(-k*(l>.1?.001:l));e.current&&(e.current.uniforms.u_distortion.value=u.lerp(e.current.uniforms.u_distortion.value,i,a),e.current.uniforms.u_slope.value=u.lerp(e.current.uniforms.u_slope.value,S,a),e.current.uniforms.u_jitter.value=u.lerp(e.current.uniforms.u_jitter.value,w,a)),o&&(e.current.uniforms.u_distortion.value.toFixed(3)===i.toFixed(3)?t(y({animate:!1})):p())}),p(),s.jsx("shaderMaterial",{ref:e,fragmentShader:F,vertexShader:q,uniforms:B})},E={powerPreference:"low-power",precision:"lowp",failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,premultipliedAlpha:!1,alpha:!1,transparent:!1,antialias:!0},G=({width:e,height:t})=>s.jsx(C,{gl:E,orthographic:!0,camera:!0,frameloop:"demand",dpr:[1,1],children:s.jsxs("mesh",{children:[s.jsx("planeGeometry",{args:[e,t]}),s.jsx(D,{})]})});G.propTypes={width:m.number.isRequired,height:m.number.isRequired};export{G as default};
